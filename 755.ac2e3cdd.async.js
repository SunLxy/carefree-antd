"use strict";(self.webpackChunkcarefree_antd_root=self.webpackChunkcarefree_antd_root||[]).push([[755],{12755:function(ne,A,d){d.r(A),d.d(A,{default:function(){return k}});var B=d(9783),m=d.n(B),F=d(5574),G=d.n(F),u=d(87462),K=d(67294),O=d(71577),H=d(18073),I=d(96842),W=d(246),J=d(6171),s=d(85893),T=void 0,M=function(f){var e=f.handleOperation;return(0,s.jsxs)(K.Fragment,{children:[(0,s.jsx)(O.ZP,{style:{marginTop:35,width:50},onClick:e.bind(T,"add"),type:"primary",children:(0,s.jsx)(H.Z,{})}),(0,s.jsx)(O.ZP,{style:{marginTop:35,width:50},onClick:e.bind(T,"allAdd"),type:"primary",children:(0,s.jsx)(I.Z,{})}),(0,s.jsx)(O.ZP,{style:{marginTop:35,width:50},onClick:e.bind(T,"allDelete"),type:"primary",children:(0,s.jsx)(W.Z,{})}),(0,s.jsx)(O.ZP,{style:{marginTop:35,width:50},onClick:e.bind(T,"delete"),type:"primary",children:(0,s.jsx)(J.Z,{})})]})},U=d(63366),V=d(95639),X=["rowSelection","handleSelected","selectedRowKeys","pagination","handlePagination"],N=function(f){var e=f.rowSelection,t=f.handleSelected,a=f.selectedRowKeys,c=f.pagination,r=f.handlePagination,v=(0,U.Z)(f,X),o={pagination:{pageSize:10}};return Reflect.has(f,"pagination")&&(typeof c!="boolean"?o.pagination=(0,u.Z)({},c,{onChange:r}):o.pagination=c),console.log(o),(0,s.jsx)(V.Z,(0,u.Z)({size:"small"},v,o,{rowSelection:(0,u.Z)({},e||{},{selectedRowKeys:a,onChange:t})}))},Y=function(e,t,a){var c=[],r=[],v=[],o=[],R=void 0;if(e==="delete"){c=t.rightList.filter(function(l){return!t.rightSelected.selectedRowKeys.includes(l[a])});var w=t.rightList.filter(function(l){var g=t.rightSelected.selectedRowKeys.includes(l[a]),h=t.leftList.find(function(x){return x[a]===l[a]});return!!(g&&!h)});r=w.concat(t.leftList),v=t.rightSelected.selectedRowKeys,o=t.rightSelected.selectedRows,R="right"}else if(e==="allDelete")c=[],t.rightList.forEach(function(l){var g=t.leftList.find(function(h){return h[a]===l[a]});g||r.push(l)}),r=r.concat(t.leftList),R="right";else if(e==="add"){var Z=t.leftList.filter(function(l){var g=t.leftSelected.selectedRowKeys.includes(l[a]),h=t.rightList.find(function(x){return x[a]===l[a]});return!!(g&&!h)});c=Z.concat(t.rightList),r=t.leftList.filter(function(l){return!t.leftSelected.selectedRowKeys.includes(l[a])}),v=t.leftSelected.selectedRowKeys,o=t.leftSelected.selectedRows,R="left"}else e==="allAdd"&&(t.leftList.forEach(function(l){var g=t.rightList.find(function(h){return h[a]===l[a]});g||c.push(l)}),r=[],c=c.concat(t.rightList),R="left");return{leftList:r,rightList:c,selectedKeys:v,selectedRows:o,selectedType:R}},p=function(e,t){var a=e.leftSelected,c=e.rightSelected,r=e.columns,v=e.rowKey,o=e.leftConfig,R=e.rightConfig,w=e.pagination,Z=e.leftDataSource,l=e.rightDataSource,g=e.isQuote,h=g===void 0?!0:g,x=K.useState({leftSelected:{selectedRowKeys:[],selectedRows:[]},rightSelected:{selectedRowKeys:[],selectedRows:[]},leftPagination:{page:1,pageSize:10},rightPagination:{page:1,pageSize:10},leftList:Z||[],rightList:l||[]}),Q=G()(x,2),b=Q[0],C=Q[1],L=b;a&&a.selectedRowKeys&&(L.leftSelected=a),c&&c.selectedRowKeys&&(L.rightSelected=a),Z&&!h&&(L.leftList=Z),l&&!h&&(L.rightList=l);var $=function(i){var n={pageSize:10};return Reflect.has(e,"pagination")&&(n=w),Reflect.has(i||{},"pagination")&&(typeof i.pagination=="boolean"||typeof w=="boolean"?n=i.pagination:n=(0,u.Z)({},w||{},i.pagination||{})),n},D=function(i,n,S){Reflect.has(e,"handleSelected")&&e.handleSelected(i,n,S),C(function(P){return(0,u.Z)({},P,m()({},S+"Selected",{selectedRowKeys:i,selectedRows:n}))})},z=function(i,n,S){Reflect.has(e,"handlePagination")&&e.handlePagination(i,n,S),C(function(P){return(0,u.Z)({},P,m()({},S+"Pagination",{page:i,pageSize:n}))}),D([],[],S)},E=function(i){var n=Y(i,L,v),S=n.leftList,P=n.rightList,q=n.selectedKeys,_=n.selectedRows,ee=n.selectedType;Reflect.has(e,"handleOperation")&&e.handleOperation(S,P,q,_,i),C(function(te){var j;return(0,u.Z)({},te,(j={},m()(j,ee+"Selected",{selectedRowKeys:[],selectedRows:[]}),m()(j,"rightList",P),m()(j,"leftList",S),j))})};return K.useImperativeHandle(t,function(){return{store:L,setStore:C,handleSelected:D,handlePagination:z,handleOperation:E}}),(0,s.jsxs)("div",{className:"carefree-antd-transfer",children:[(0,s.jsx)(N,(0,u.Z)({},o||{},{pagination:$(o),dataSource:L.leftList,className:"between-table",selectedRowKeys:b.leftSelected.selectedRowKeys,handlePagination:function(i,n){return z(i,n,"left")},handleSelected:function(i,n){return D(i,n,"left")},columns:r,rowKey:v})),(0,s.jsx)("div",{className:"middle-btn",children:(0,s.jsx)(M,{handleOperation:E})}),(0,s.jsx)(N,(0,u.Z)({},R||{},{pagination:$(R),dataSource:L.rightList,className:"between-table",selectedRowKeys:b.rightSelected.selectedRowKeys,handlePagination:function(i,n){return z(i,n,"right")},handleSelected:function(i,n){return D(i,n,"right")},columns:r,rowKey:v}))]})},k=K.forwardRef(p)}}]);
