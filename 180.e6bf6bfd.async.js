"use strict";(self.webpackChunkcarefree_antd_root=self.webpackChunkcarefree_antd_root||[]).push([[180],{15180:function(ne,z,f){f.r(z),f.d(z,{default:function(){return k}});var E=f(9783),w=f.n(E),B=f(5574),F=f.n(B);function o(){return o=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},o.apply(this,arguments)}var K=f(67294),b=f(71577),G=f(18073),H=f(96842),I=f(246),W=f(6171),c=f(85893),T=void 0,J=function(r){var e=r.handleOperation;return(0,c.jsxs)(K.Fragment,{children:[(0,c.jsx)(b.Z,{style:{marginTop:35,width:50},onClick:e.bind(T,"add"),type:"primary",children:(0,c.jsx)(G.Z,{})}),(0,c.jsx)(b.Z,{style:{marginTop:35,width:50},onClick:e.bind(T,"allAdd"),type:"primary",children:(0,c.jsx)(H.Z,{})}),(0,c.jsx)(b.Z,{style:{marginTop:35,width:50},onClick:e.bind(T,"allDelete"),type:"primary",children:(0,c.jsx)(I.Z,{})}),(0,c.jsx)(b.Z,{style:{marginTop:35,width:50},onClick:e.bind(T,"delete"),type:"primary",children:(0,c.jsx)(W.Z,{})})]})};function M(r,e){if(r==null)return{};var t={},n=Object.keys(r),l,s;for(s=0;s<n.length;s++)l=n[s],!(e.indexOf(l)>=0)&&(t[l]=r[l]);return t}var U=f(88631),V=["rowSelection","handleSelected","selectedRowKeys","pagination","handlePagination"],A=function(r){var e=r.rowSelection,t=r.handleSelected,n=r.selectedRowKeys,l=r.pagination,s=r.handlePagination,v=M(r,V),g={pagination:{pageSize:10}};return Reflect.has(r,"pagination")&&(typeof l!="boolean"?g.pagination=o({},l,{onChange:s}):g.pagination=l),console.log(g),(0,c.jsx)(U.Z,o({size:"small"},v,g,{rowSelection:o({},e||{},{selectedRowKeys:n,onChange:t})}))},X=function(e,t,n){var l=[],s=[],v=[],g=[],R=void 0;if(e==="delete"){l=t.rightList.filter(function(d){return!t.rightSelected.selectedRowKeys.includes(d[n])});var j=t.rightList.filter(function(d){var u=t.rightSelected.selectedRowKeys.includes(d[n]),h=t.leftList.find(function(P){return P[n]===d[n]});return!!(u&&!h)});s=j.concat(t.leftList),v=t.rightSelected.selectedRowKeys,g=t.rightSelected.selectedRows,R="right"}else if(e==="allDelete")l=[],t.rightList.forEach(function(d){var u=t.leftList.find(function(h){return h[n]===d[n]});u||s.push(d)}),s=s.concat(t.leftList),R="right";else if(e==="add"){var O=t.leftList.filter(function(d){var u=t.leftSelected.selectedRowKeys.includes(d[n]),h=t.rightList.find(function(P){return P[n]===d[n]});return!!(u&&!h)});l=O.concat(t.rightList),s=t.leftList.filter(function(d){return!t.leftSelected.selectedRowKeys.includes(d[n])}),v=t.leftSelected.selectedRowKeys,g=t.leftSelected.selectedRows,R="left"}else e==="allAdd"&&(t.leftList.forEach(function(d){var u=t.rightList.find(function(h){return h[n]===d[n]});u||l.push(d)}),s=[],l=l.concat(t.rightList),R="left");return{leftList:s,rightList:l,selectedKeys:v,selectedRows:g,selectedType:R}},Y=function(e,t){var n=e.leftSelected,l=e.rightSelected,s=e.columns,v=e.rowKey,g=e.leftConfig,R=e.rightConfig,j=e.pagination,O=e.leftDataSource,d=e.rightDataSource,u=e.isQuote,h=u===void 0?!0:u,P=K.useState({leftSelected:{selectedRowKeys:[],selectedRows:[]},rightSelected:{selectedRowKeys:[],selectedRows:[]},leftPagination:{page:1,pageSize:10},rightPagination:{page:1,pageSize:10},leftList:O||[],rightList:d||[]}),N=F()(P,2),D=N[0],C=N[1],y=D;n&&n.selectedRowKeys&&(y.leftSelected=n),l&&l.selectedRowKeys&&(y.rightSelected=n),O&&!h&&(y.leftList=O),d&&!h&&(y.rightList=d);var Q=function(a){var i={pageSize:10};return Reflect.has(e,"pagination")&&(i=j),Reflect.has(a||{},"pagination")&&(typeof a.pagination=="boolean"||typeof j=="boolean"?i=a.pagination:i=o({},j||{},a.pagination||{})),i},Z=function(a,i,S){Reflect.has(e,"handleSelected")&&e.handleSelected(a,i,S),C(function(m){return o({},m,w()({},S+"Selected",{selectedRowKeys:a,selectedRows:i}))})},p=function(a,i,S){Reflect.has(e,"handlePagination")&&e.handlePagination(a,i,S),C(function(m){return o({},m,w()({},S+"Pagination",{page:a,pageSize:i}))}),Z([],[],S)},$=function(a){var i=X(a,y,v),S=i.leftList,m=i.rightList,q=i.selectedKeys,_=i.selectedRows,ee=i.selectedType;Reflect.has(e,"handleOperation")&&e.handleOperation(S,m,q,_,a),C(function(te){var x;return o({},te,(x={},w()(x,ee+"Selected",{selectedRowKeys:[],selectedRows:[]}),w()(x,"rightList",m),w()(x,"leftList",S),x))})};return K.useImperativeHandle(t,function(){return{store:y,setStore:C,handleSelected:Z,handlePagination:p,handleOperation:$}}),(0,c.jsxs)("div",{className:"carefree-antd-transfer",children:[(0,c.jsx)(A,o({},g||{},{pagination:Q(g),dataSource:y.leftList,className:"between-table",selectedRowKeys:D.leftSelected.selectedRowKeys,handlePagination:function(a,i){return p(a,i,"left")},handleSelected:function(a,i){return Z(a,i,"left")},columns:s,rowKey:v})),(0,c.jsx)("div",{className:"middle-btn",children:(0,c.jsx)(J,{handleOperation:$})}),(0,c.jsx)(A,o({},R||{},{pagination:Q(R),dataSource:y.rightList,className:"between-table",selectedRowKeys:D.rightSelected.selectedRowKeys,handlePagination:function(a,i){return p(a,i,"right")},handleSelected:function(a,i){return Z(a,i,"right")},columns:s,rowKey:v}))]})},k=K.forwardRef(Y)}}]);
